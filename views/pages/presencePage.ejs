
<% if(req.session.droit==1){

%>
<% include ../includes/entete.ejs %>
<% }else{

%>
<% include ../includes/enteteOperateur.ejs %>

<% }%>
<div id="page-wrapper">

  <div class="row">

    <div class="col-md-4 col-sm-6" id="container" style="min-width: 310px; height: auto; max-width: 600px; margin: 0 auto"></div>
	 <div class="col-md-4 col-sm-6">
		<div class="box">
			<div class="box-header">
				<div class="box-name">
					<i class="fa fa-table"></i>
					<span>Entrées et Sorties du jour</span>
				</div>

				<div class="no-move"></div>
			</div>
			<div class="box-content">
				<table class="table">
					<thead>
						<tr>
							<th>Heures</th>
							<th>Pointeuse</th>
						</tr>
					</thead>
					<tbody>
						<%

                                          presence.forEach(function(presence){


                                        %>
                                        <tr>
                                          <td><%=presence.entree %></td>
                                          <td><%=presence.source %></td>

                                        </tr>
                                        <% }); %>


					</tbody>
				</table>
			</div>
		</div>
	</div>


    </div>

</div>
<script src="/js/jquery-1.12.4.js"></script>
<script src="/jquery-ui/jquery-ui.js"></script>
<script>
  $(function () {
    $('#container').highcharts({
      chart: {
        plotBackgroundColor: null,
        plotBorderWidth: 0,
        plotShadow: false
      },
      title: {
        text: 'Statistique<br>de<br>présences',
        align: 'center',
        verticalAlign: 'middle',
        y: 40
      },
      tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
      },
      plotOptions: {
        pie: {
          dataLabels: {
            enabled: true,
            distance: -50,
            style: {
              fontWeight: 'bold',
              color: 'white',
              textShadow: '0px 1px 2px black'
            }
          },
          startAngle: -90,
          endAngle: 90,
          center: ['50%', '75%']
        }
      },
      series: [{
        type: 'pie',
        name: 'pourcentage',
        innerSize: '50%',
        data: [
          ['Normale',   10.38],
          ['Retard',       56.33],
          {
            name: 'Proprietary or Undetectable',
            y: 0.2,
            dataLabels: {
              enabled: false
            }
          }
        ]
      }]
    });
  });


</script>
